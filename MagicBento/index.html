<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MagicBento Vanilla</title>
<style>
  body {
    background: #0a0a0a;
    margin: 0;
    font-family: sans-serif;
    overflow: hidden;
    color: white;
  }
  .parent {
    display: grid;
    grid-template-columns: repeat(8, 1fr);
    grid-template-rows: repeat(5, 1fr);
    grid-column-gap: 12px;
    grid-row-gap: 12px;
    width: 90vw;
    height: 90vh;
    margin: auto;
    padding: 20px;
  }
  .parent div {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 16px;
    border: 1px solid rgba(255,255,255,0.1);
    transition: transform 0.2s ease, box-shadow 0.3s ease;
  }
  .parent div:hover {
    box-shadow: 0 0 20px rgba(255,255,255,0.4);
  }
  .div1 { grid-area: 1 / 1 / 3 / 3; }
  .div2 { grid-area: 1 / 3 / 3 / 5; }
  .div3 { grid-area: 3 / 1 / 6 / 5; }
  .div4 { grid-area: 1 / 5 / 4 / 9; }
  .div5 { grid-area: 4 / 5 / 6 / 7; }
  .div6 { grid-area: 4 / 7 / 6 / 9; }
  .tp-dfwv {
    position: fixed !important;
    top: 10px;
    right: 10px;
    z-index: 1000;
  }
  canvas {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
  }
</style>
</head>
<body>
<canvas id="stars"></canvas>
<div class="parent">
  <div class="div1"></div>
  <div class="div2"></div>
  <div class="div3"></div>
  <div class="div4"></div>
  <div class="div5"></div>
  <div class="div6"></div>
</div>
<script type="module">
  import { Pane } from 'https://cdn.jsdelivr.net/npm/tweakpane@4.0.4/dist/tweakpane.min.js';

  const config = {
    spotlightRadius: 100,
    stars: true,
    spotlight: true,
    tilt: true,
    clickEffect: true,
    magnetism: true,
    disableAll: () => {
      Object.assign(config, {
        stars: false,
        spotlight: false,
        tilt: false,
        clickEffect: false,
        magnetism: false
      });
      pane.refresh();
    }
  };

  const pane = new Pane({ title: 'Controls', expanded: true });
  pane.addBinding(config, 'spotlightRadius', { min: 100, max: 600, step: 10 });
  pane.addBinding(config, 'stars', { label: 'Stars Effect' });
  pane.addBinding(config, 'spotlight', { label: 'Spotlight Effect' });
  pane.addBinding(config, 'tilt', { label: 'Tilt Effect' });
  pane.addBinding(config, 'clickEffect', { label: 'Click Effect' });
  pane.addBinding(config, 'magnetism', { label: 'Magnetism' });
  pane.addButton({ title: 'Disable All Animations' }).on('click', config.disableAll);

  // Stars effect
  const starCanvas = document.getElementById('stars');
  const ctx = starCanvas.getContext('2d');
  let starsArray = [];
  function initStars() {
    starCanvas.width = window.innerWidth;
    starCanvas.height = window.innerHeight;
    starsArray = Array.from({ length: 100 }, () => ({
      x: Math.random() * starCanvas.width,
      y: Math.random() * starCanvas.height,
      radius: Math.random() * 1.5,
      alpha: Math.random()
    }));
  }
  function drawStars() {
    if (!config.stars) return;
    ctx.clearRect(0, 0, starCanvas.width, starCanvas.height);
    ctx.fillStyle = 'white';
    starsArray.forEach(s => {
      ctx.globalAlpha = s.alpha;
      ctx.beginPath();
      ctx.arc(s.x, s.y, s.radius, 0, Math.PI * 2);
      ctx.fill();
    });
  }
  function animateStars() {
    drawStars();
    requestAnimationFrame(animateStars);
  }
  window.addEventListener('resize', initStars);
  initStars();
  animateStars();

  // Spotlight effect
  document.addEventListener('mousemove', (e) => {
    if (!config.spotlight) {
      document.body.style.background = '#0a0a0a';
      return;
    }
    const x = e.clientX;
    const y = e.clientY;
    document.body.style.background = `radial-gradient(circle ${config.spotlightRadius}px at ${x}px ${y}px, rgba(255,255,255,0.1), #0a0a0a)`;
  });

  // Tilt effect
  document.querySelectorAll('.parent div').forEach(div => {
    div.addEventListener('mousemove', (e) => {
      if (!config.tilt) return;
      const rect = div.getBoundingClientRect();
      const x = e.clientX - rect.left;
      const y = e.clientY - rect.top;
      const centerX = rect.width / 2;
      const centerY = rect.height / 2;
      const rotateX = ((y - centerY) / centerY) * 10;
      const rotateY = ((x - centerX) / centerX) * -10;
      div.style.transform = `rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
    });
    div.addEventListener('mouseleave', () => {
      div.style.transform = 'rotateX(0) rotateY(0)';
    });
  });

  // Click effect
  document.addEventListener('click', (e) => {
    if (!config.clickEffect) return;
    const circle = document.createElement('div');
    circle.style.position = 'fixed';
    circle.style.left = `${e.clientX}px`;
    circle.style.top = `${e.clientY}px`;
    circle.style.width = '20px';
    circle.style.height = '20px';
    circle.style.border = '2px solid white';
    circle.style.borderRadius = '50%';
    circle.style.transform = 'translate(-50%, -50%)';
    circle.style.pointerEvents = 'none';
    circle.style.transition = 'all 0.5s ease-out';
    document.body.appendChild(circle);
    setTimeout(() => {
      circle.style.width = '100px';
      circle.style.height = '100px';
      circle.style.opacity = '0';
    }, 0);
    setTimeout(() => circle.remove(), 500);
  });

  // Magnetism
  document.querySelectorAll('.parent div').forEach(div => {
    div.addEventListener('mousemove', (e) => {
      if (!config.magnetism) return;
      const rect = div.getBoundingClientRect();
      const moveX = (e.clientX - rect.left - rect.width / 2) * 0.1;
      const moveY = (e.clientY - rect.top - rect.height / 2) * 0.1;
      div.style.transform = `translate(${moveX}px, ${moveY}px)`;
    });
    div.addEventListener('mouseleave', () => {
      div.style.transform = 'translate(0,0)';
    });
  });
</script>
</body>
</html>
