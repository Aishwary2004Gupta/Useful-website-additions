<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Scroll Expansion Hero</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Inter", -apple-system, BlinkMacSystemFont, sans-serif;
      }

      body {
        background: #0a0a0a;
        color: white;
        overflow-x: hidden;
      }

      .scroll-expand-section {
        position: relative;
        min-height: 100vh;
        width: 100%;
        overflow: hidden;
      }

      .background-image {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        z-index: 0;
        transition: opacity 0.7s ease;
      }

      .background-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.1);
        z-index: 1;
      }

      .container {
        position: relative;
        z-index: 2;
        width: 100%;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
      }

      .media-container {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        border-radius: 16px;
        overflow: hidden;
        box-shadow: 0 0 50px rgba(0, 0, 0, 0.3);
        transition: all 0.1s ease-out;
        z-index: 3;
      }

      .media-content {
        width: 100%;
        height: 100%;
        border-radius: 16px;
        object-fit: cover;
      }

      .media-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.3);
        border-radius: 16px;
        transition: opacity 0.2s ease;
      }

      .text-content {
        position: relative;
        z-index: 4;
        text-align: center;
        mix-blend-mode: normal;
        transition: all 0.1s ease-out;
      }

      .title-wrapper {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 16px;
        margin-bottom: 8px;
      }

      .title-part {
        font-size: 3rem;
        font-weight: 700;
        color: #bfdbfe;
        transition: transform 0.1s ease-out;
      }

      @media (min-width: 768px) {
        .title-part {
          font-size: 4rem;
        }
      }

      @media (min-width: 1024px) {
        .title-part {
          font-size: 5rem;
        }
      }

      .date-text {
        font-size: 1.5rem;
        color: #bfdbfe;
        margin-bottom: 16px;
        transition: transform 0.1s ease-out;
      }

      .scroll-hint {
        color: #bfdbfe;
        font-weight: 500;
        text-align: center;
        transition: transform 0.1s ease-out;
      }

      .expanded-content {
        width: 100%;
        padding: 40px 32px;
        opacity: 0;
        transition: opacity 0.7s ease;
      }

      @media (min-width: 768px) {
        .expanded-content {
          padding: 40px 64px;
        }
      }

      @media (min-width: 1024px) {
        .expanded-content {
          padding: 80px 128px;
        }
      }

      .content-wrapper {
        max-width: 896px;
        margin: 0 auto;
      }

      .content-title {
        font-size: 2rem;
        font-weight: 700;
        margin-bottom: 24px;
        color: white;
      }

      .content-text {
        font-size: 1.125rem;
        line-height: 1.7;
        margin-bottom: 24px;
        color: white;
      }

      .demo-controls {
        position: fixed;
        top: 20px;
        right: 20px;
        z-index: 50;
        display: flex;
        gap: 8px;
      }

      .demo-button {
        padding: 12px 20px;
        border-radius: 12px;
        border: 1px solid rgba(255, 255, 255, 0.3);
        background: rgba(0, 0, 0, 0.5);
        color: white;
        cursor: pointer;
        transition: all 0.3s ease;
        font-weight: 500;
      }

      .demo-button.active {
        background: white;
        color: black;
      }

      .demo-button:hover {
        transform: translateY(-2px);
      }

      .loading-spinner {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 50px;
        height: 50px;
        border: 4px solid rgba(59, 130, 246, 0.3);
        border-top: 4px solid #3b82f6;
        border-radius: 50%;
        animation: spin 1s linear infinite;
        z-index: 5;
      }

      @keyframes spin {
        0% {
          transform: translate(-50%, -50%) rotate(0deg);
        }
        100% {
          transform: translate(-50%, -50%) rotate(360deg);
        }
      }

      .scroll-indicator {
        position: absolute;
        bottom: 30px;
        left: 50%;
        transform: translateX(-50%);
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 8px;
        opacity: 0.7;
        z-index: 4;
      }

      .scroll-arrow {
        width: 20px;
        height: 20px;
        border-right: 2px solid #bfdbfe;
        border-bottom: 2px solid #bfdbfe;
        transform: rotate(45deg);
        animation: bounce 2s infinite;
      }

      @keyframes bounce {
        0%,
        20%,
        50%,
        80%,
        100% {
          transform: rotate(45deg) translateY(0);
        }
        40% {
          transform: rotate(45deg) translateY(-10px);
        }
        60% {
          transform: rotate(45deg) translateY(-5px);
        }
      }
    </style>
  </head>
  <body>
    <div class="demo-controls">
      <button class="demo-button active" data-type="video">Video</button>
      <button class="demo-button" data-type="image">Image</button>
    </div>

    <div class="scroll-expand-section" id="scrollSection">
      <img
        src="https://images.unsplash.com/photo-1506744038136-46273834b3fb?q=80&w=1920&auto=format&fit=crop"
        alt="Background"
        class="background-image"
        id="backgroundImage"
      />
      <div class="background-overlay"></div>

      <div class="container">
        <div class="media-container" id="mediaContainer">
          <div class="loading-spinner" id="loadingSpinner"></div>
          <video
            class="media-content"
            id="mediaContent"
            muted
            loop
            playsinline
            preload="auto"
          >
            <source
              src="https://me7aitdbxq.ufs.sh/f/2wsMIGDMQRdYuZ5R8ahEEZ4aQK56LizRdfBSqeDMsmUIrJN1"
              type="video/mp4"
            />
            Your browser does not support the video tag.
          </video>
          <div class="media-overlay" id="mediaOverlay"></div>
        </div>

        <div class="text-content" id="textContent">
          <div class="title-wrapper">
            <div class="title-part" id="titleFirst">Immersive</div>
            <div class="title-part" id="titleSecond">Video Experience</div>
          </div>
          <div class="date-text" id="dateText">Cosmic Journey</div>
          <div class="scroll-hint" id="scrollHint">Scroll to Expand Demo</div>
        </div>

        <div class="scroll-indicator">
          <div class="scroll-arrow"></div>
          <div style="color: #bfdbfe; font-size: 0.9rem">Scroll</div>
        </div>
      </div>

      <div class="expanded-content" id="expandedContent">
        <div class="content-wrapper">
          <h2 class="content-title">About This Component</h2>
          <p class="content-text" id="contentOverview">
            This is a demonstration of the ScrollExpandMedia component with a
            video. As you scroll, the video expands to fill more of the screen,
            creating an immersive experience. This component is perfect for
            showcasing video content in a modern, interactive way.
          </p>
          <p class="content-text" id="contentConclusion">
            The ScrollExpandMedia component provides a unique way to engage
            users with your content through interactive scrolling. Try switching
            between video and image modes to see different implementations.
          </p>
        </div>
      </div>
    </div>

    <script>
      class ScrollExpandHero {
        constructor() {
          this.scrollProgress = 0;
          this.showContent = false;
          this.mediaFullyExpanded = false;
          this.touchStartY = 0;
          this.isMobile = window.innerWidth < 768;
          this.currentMediaType = "video";

          // DOM Elements
          this.section = document.getElementById("scrollSection");
          this.mediaContainer = document.getElementById("mediaContainer");
          this.mediaContent = document.getElementById("mediaContent");
          this.backgroundImage = document.getElementById("backgroundImage");
          this.mediaOverlay = document.getElementById("mediaOverlay");
          this.textContent = document.getElementById("textContent");
          this.titleFirst = document.getElementById("titleFirst");
          this.titleSecond = document.getElementById("titleSecond");
          this.dateText = document.getElementById("dateText");
          this.scrollHint = document.getElementById("scrollHint");
          this.expandedContent = document.getElementById("expandedContent");
          this.loadingSpinner = document.getElementById("loadingSpinner");

          // Media content definitions
          this.mediaContentData = {
            video: {
              mediaSrc:
                "https://me7aitdbxq.ufs.sh/f/2wsMIGDMQRdYuZ5R8ahEEZ4aQK56LizRdfBSqeDMsmUIrJN1",
              posterSrc:
                "https://images.pexels.com/videos/5752729/space-earth-universe-cosmos-5752729.jpeg",
              backgroundSrc:
                "https://me7aitdbxq.ufs.sh/f/2wsMIGDMQRdYMNjMlBUYHaeYpxduXPVNwf8mnFA61L7rkcoS",
              title: "Immersive Video Experience",
              date: "Cosmic Journey",
              scrollHint: "Scroll to Expand Demo",
              overview:
                "This is a demonstration of the ScrollExpandMedia component with a video. As you scroll, the video expands to fill more of the screen, creating an immersive experience. This component is perfect for showcasing video content in a modern, interactive way.",
              conclusion:
                "The ScrollExpandMedia component provides a unique way to engage users with your content through interactive scrolling. Try switching between video and image modes to see different implementations.",
            },
            image: {
              mediaSrc:
                "https://images.unsplash.com/photo-1682687982501-1e58ab814714?q=80&w=1280&auto=format&fit=crop",
              backgroundSrc:
                "https://images.unsplash.com/photo-1506744038136-46273834b3fb?q=80&w=1920&auto=format&fit=crop",
              title: "Dynamic Image Showcase",
              date: "Underwater Adventure",
              scrollHint: "Scroll to Expand Demo",
              overview:
                "This is a demonstration of the ScrollExpandMedia component with an image. The same smooth expansion effect works beautifully with static images, allowing you to create engaging visual experiences without video content.",
              conclusion:
                "The ScrollExpandMedia component works equally well with images and videos. This flexibility allows you to choose the media type that best suits your content while maintaining the same engaging user experience.",
            },
          };

          this.init();
        }

        init() {
          this.setupEventListeners();
          this.setupDemoControls();
          this.resetState();
          this.preloadMedia();
        }

        setupEventListeners() {
          window.addEventListener("wheel", this.handleWheel.bind(this), {
            passive: false,
          });
          window.addEventListener(
            "touchstart",
            this.handleTouchStart.bind(this),
            { passive: false }
          );
          window.addEventListener(
            "touchmove",
            this.handleTouchMove.bind(this),
            { passive: false }
          );
          window.addEventListener("touchend", this.handleTouchEnd.bind(this));
          window.addEventListener("scroll", this.handleScroll.bind(this));
          window.addEventListener("resize", this.handleResize.bind(this));
        }

        setupDemoControls() {
          const buttons = document.querySelectorAll(".demo-button");
          buttons.forEach((button) => {
            button.addEventListener("click", (e) => {
              const type = e.target.getAttribute("data-type");
              this.switchMediaType(type);

              // Update active button
              buttons.forEach((btn) => btn.classList.remove("active"));
              e.target.classList.add("active");
            });
          });
        }

        switchMediaType(type) {
          this.currentMediaType = type;
          const data = this.mediaContentData[type];

          // Update content
          this.updateTitle(data.title);
          this.dateText.textContent = data.date;
          this.scrollHint.textContent = data.scrollHint;
          document.getElementById("contentOverview").textContent =
            data.overview;
          document.getElementById("contentConclusion").textContent =
            data.conclusion;

          // Update media
          if (type === "video") {
            this.mediaContent.style.display = "block";
            this.backgroundImage.src = data.backgroundSrc;
            this.mediaContent.src = data.mediaSrc;
            this.mediaContent.poster = data.posterSrc;
            this.mediaContent.load();
          } else {
            this.mediaContent.style.display = "none";
            this.backgroundImage.src = data.backgroundSrc;
            // For image mode, we'd typically replace with an img element
            // This is simplified for the demo
          }

          this.resetState();
        }

        updateTitle(title) {
          const words = title.split(" ");
          this.titleFirst.textContent = words[0];
          this.titleSecond.textContent = words.slice(1).join(" ");
        }

        resetState() {
          this.scrollProgress = 0;
          this.showContent = false;
          this.mediaFullyExpanded = false;
          this.updateLayout();
          window.scrollTo(0, 0);
        }

        handleWheel(e) {
          if (this.mediaFullyExpanded && e.deltaY < 0 && window.scrollY <= 5) {
            this.mediaFullyExpanded = false;
            e.preventDefault();
          } else if (!this.mediaFullyExpanded) {
            e.preventDefault();
            const scrollDelta = e.deltaY * 0.0009;
            this.updateScrollProgress(scrollDelta);
          }
        }

        handleTouchStart(e) {
          this.touchStartY = e.touches[0].clientY;
        }

        handleTouchMove(e) {
          if (!this.touchStartY) return;

          const touchY = e.touches[0].clientY;
          const deltaY = this.touchStartY - touchY;

          if (this.mediaFullyExpanded && deltaY < -20 && window.scrollY <= 5) {
            this.mediaFullyExpanded = false;
            e.preventDefault();
          } else if (!this.mediaFullyExpanded) {
            e.preventDefault();
            const scrollFactor = deltaY < 0 ? 0.008 : 0.005;
            const scrollDelta = deltaY * scrollFactor;
            this.updateScrollProgress(scrollDelta);
            this.touchStartY = touchY;
          }
        }

        handleTouchEnd() {
          this.touchStartY = 0;
        }

        handleScroll() {
          if (!this.mediaFullyExpanded) {
            window.scrollTo(0, 0);
          }
        }

        handleResize() {
          this.isMobile = window.innerWidth < 768;
          this.updateLayout();
        }

        updateScrollProgress(delta) {
          this.scrollProgress = Math.min(
            Math.max(this.scrollProgress + delta, 0),
            1
          );

          if (this.scrollProgress >= 1) {
            this.mediaFullyExpanded = true;
            this.showContent = true;
          } else if (this.scrollProgress < 0.75) {
            this.showContent = false;
          }

          this.updateLayout();
        }

        updateLayout() {
          // Update media container size
          const baseWidth = this.isMobile ? 300 : 300;
          const baseHeight = this.isMobile ? 400 : 400;
          const expandedWidth = this.isMobile ? 950 : 1550;
          const expandedHeight = this.isMobile ? 600 : 800;

          const mediaWidth =
            baseWidth + this.scrollProgress * (expandedWidth - baseWidth);
          const mediaHeight =
            baseHeight + this.scrollProgress * (expandedHeight - baseHeight);

          this.mediaContainer.style.width = `${mediaWidth}px`;
          this.mediaContainer.style.height = `${mediaHeight}px`;
          this.mediaContainer.style.maxWidth = "95vw";
          this.mediaContainer.style.maxHeight = "85vh";

          // Update text positions
          const textTranslateX =
            this.scrollProgress * (this.isMobile ? 180 : 150);
          this.titleFirst.style.transform = `translateX(-${textTranslateX}vw)`;
          this.titleSecond.style.transform = `translateX(${textTranslateX}vw)`;
          this.dateText.style.transform = `translateX(-${textTranslateX}vw)`;
          this.scrollHint.style.transform = `translateX(${textTranslateX}vw)`;

          // Update overlays and background
          this.backgroundImage.style.opacity = 1 - this.scrollProgress;
          this.mediaOverlay.style.opacity = 0.7 - this.scrollProgress * 0.3;

          // Update expanded content
          this.expandedContent.style.opacity = this.showContent ? "1" : "0";

          // Hide loading spinner when media is loaded
          if (this.mediaContent.readyState >= 3) {
            this.loadingSpinner.style.display = "none";
          }
        }

        preloadMedia() {
          this.mediaContent.addEventListener("loadeddata", () => {
            this.loadingSpinner.style.display = "none";
          });

          this.mediaContent.addEventListener("loadstart", () => {
            this.loadingSpinner.style.display = "block";
          });
        }
      }

      // Initialize the component when DOM is loaded
      document.addEventListener("DOMContentLoaded", () => {
        new ScrollExpandHero();
      });
    </script>
  </body>
</html>
